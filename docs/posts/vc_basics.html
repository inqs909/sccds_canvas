<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Version Control Basics – SCCDS Canvas</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-e36ce5c26c48eccda62d8cde5e438854.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="quarto-light">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#git" id="toc-git" class="nav-link active" data-scroll-target="#git">Git</a>
  <ul class="collapse">
  <li><a href="#getting-started-with-git" id="toc-getting-started-with-git" class="nav-link" data-scroll-target="#getting-started-with-git">Getting Started with Git</a></li>
  <li><a href="#key-concepts-in-git" id="toc-key-concepts-in-git" class="nav-link" data-scroll-target="#key-concepts-in-git">Key Concepts in Git</a></li>
  <li><a href="#essential-commands" id="toc-essential-commands" class="nav-link" data-scroll-target="#essential-commands">Essential Commands</a></li>
  <li><a href="#best-practices" id="toc-best-practices" class="nav-link" data-scroll-target="#best-practices">Best Practices</a></li>
  <li><a href="#use-of-ides" id="toc-use-of-ides" class="nav-link" data-scroll-target="#use-of-ides">Use of IDE’s</a></li>
  </ul></li>
  <li><a href="#github" id="toc-github" class="nav-link" data-scroll-target="#github">Github</a>
  <ul class="collapse">
  <li><a href="#getting-started-with-github" id="toc-getting-started-with-github" class="nav-link" data-scroll-target="#getting-started-with-github">Getting Started with GitHub</a></li>
  <li><a href="#why-use-github" id="toc-why-use-github" class="nav-link" data-scroll-target="#why-use-github">Why Use GitHub?</a></li>
  <li><a href="#key-features-of-github" id="toc-key-features-of-github" class="nav-link" data-scroll-target="#key-features-of-github">Key Features of GitHub</a></li>
  </ul></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources">Resources</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Version Control Basics</h1>
</div>



<div class="quarto-title-meta">

    
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">February 12, 2025</p>
    </div>
  </div>
    
  </div>
  


</header>


<p>How many times when you are working finalizing a document and you save it as <code>final_15.docx</code> or something like <code>true_final_5.docx</code> or <code>FINAL_FINAL_3.docx</code> or <code>ONLY_LOOK_AT_THIS_ONE_FINAL_2.docx</code>. This is a common trait all of us do to ensure that we save our updates so we can look at the differences between versions. This is where version control can help organize and track your changes between different versions of a file.</p>
<p>There are 2 main tools that we can use for version control: <a href="https://git-scm.com/">git</a> and <a href="https://github.com/">GitHub</a>. We will briefly discuss these two tools.</p>
<section id="git" class="level2">
<h2 class="anchored" data-anchor-id="git">Git</h2>
<p>Git is the system on a computer that will track changes of all the files in a specialized directory (folder) on your computer. Git has become an essential tool for data science development of programs.</p>
<p>Git is a program that is primarily used via terminal app or commandline. However, several IDE’s, such as <a href="https://code.visualstudio.com/">VS Code</a>, <a href="https://posit.co/products/open-source/rstudio/">RStudio</a>, and <a href="https://positron.posit.co/">Positron</a> have provided an easy user interface to create repositories, track and save changes, and store repositories on a remove server (GitHub).</p>
<section id="getting-started-with-git" class="level3">
<h3 class="anchored" data-anchor-id="getting-started-with-git">Getting Started with Git</h3>
<section id="initializing-repository" class="level4">
<h4 class="anchored" data-anchor-id="initializing-repository">1. Initializing Repository</h4>
<p>Whenever you start a data science project, you first want to gather all your scripts, and possibly data if it is not sensitive and opened to be tracked, into one main project folder. This project folder will be tracked via git by making it as a repository. This can be thought as a special project going on in this folder.</p>
</section>
<section id="develop-project" class="level4">
<h4 class="anchored" data-anchor-id="develop-project">2. Develop Project</h4>
<p>Once everything is set up, work on your project as normal. Update scripts, analyze data, create plots, and any other task that needs to be completed.</p>
</section>
<section id="commit" class="level4">
<h4 class="anchored" data-anchor-id="commit">3. Commit</h4>
<p>Once your project, or certain files, is at a place where you want to make save and be tracked. You will <a href="https://www.geeksforgeeks.org/staging-in-git/">stage</a> them with the following code in a terminal app<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add fileneame</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or you can stage all the files that have changes with</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This two lines of code will tell git: “hey prepare to track and save these files”.</p>
<p>Afterwards, type this in the terminal:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"WRITE MESSAGE HERE"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will save and track the files and appends a message that provides brief information of what the commit is about.</p>
<p>Certain IDE’s will allow you to do all of this with out using the terminal.</p>
</section>
<section id="save-in-the-cloud-github" class="level4">
<h4 class="anchored" data-anchor-id="save-in-the-cloud-github">4. Save in the Cloud (GitHub)</h4>
<p>If you want to save all your changes in the cloud, type this is in the terminal:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will connect to GitHub and tell it that this repository has updates that you should store.</p>
</section>
<section id="download-for-the-cloud" class="level4">
<h4 class="anchored" data-anchor-id="download-for-the-cloud">5. Download for the Cloud</h4>
<p>If you made some changes in GitHub, or another computer that changes were pushed to GitHub. You can download those changes with the terminal commands:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> pull</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will download the changes into your computer’s repository.</p>
</section>
</section>
<section id="key-concepts-in-git" class="level3">
<h3 class="anchored" data-anchor-id="key-concepts-in-git">Key Concepts in Git</h3>
<ol type="1">
<li><strong>Repository (Repo)</strong>:
<ul>
<li>A directory tracked by git containing your project files and the history of their changes.</li>
<li>Initialized using <code>git init</code> or cloned using <code>git clone</code>.</li>
</ul></li>
<li><strong>Commit</strong>:
<ul>
<li>A snapshot of your changes, representing a specific point in your project’s history.</li>
<li>Created using <code>git commit</code> after staging changes.</li>
</ul></li>
<li><strong>Branch</strong>:
<ul>
<li>A separate line of development within a repository.</li>
<li>The default branch is typically <code>main</code> or <code>master</code>.</li>
<li>New branches are created using <code>git branch &lt;branch-name&gt;</code> and switched to with <code>git checkout</code> or <code>git switch</code>.</li>
</ul></li>
<li><strong>Remote</strong>:
<ul>
<li>A version of your repository hosted on a server, such as GitHub, GitLab, or Bitbucket.</li>
<li>Allows for collaboration and centralized backups.</li>
</ul></li>
<li><strong>Working Directory, Staging Area, and Commit</strong>:
<ul>
<li><strong>Working Directory</strong>: The files you are actively working on.</li>
<li><strong>Staging Area</strong>: A place where changes are prepared before being committed.</li>
<li><strong>Commit</strong>: A saved snapshot of the staged changes.</li>
</ul></li>
</ol>
</section>
<section id="essential-commands" class="level3">
<h3 class="anchored" data-anchor-id="essential-commands">Essential Commands</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 38%">
<col style="width: 61%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>git init</code></td>
<td>Initialize a new Git repository.</td>
</tr>
<tr class="even">
<td><code>git clone &lt;url&gt;</code></td>
<td>Clone a repository from a remote source.</td>
</tr>
<tr class="odd">
<td><code>git add &lt;file&gt;</code></td>
<td>Stage changes for commit.</td>
</tr>
<tr class="even">
<td><code>git commit -m "message"</code></td>
<td>Save changes to the repository.</td>
</tr>
<tr class="odd">
<td><code>git status</code></td>
<td>Check the status of the repository.</td>
</tr>
<tr class="even">
<td><code>git log</code></td>
<td>View the commit history.</td>
</tr>
<tr class="odd">
<td><code>git branch &lt;name&gt;</code></td>
<td>Create a new branch.</td>
</tr>
<tr class="even">
<td><code>git switch &lt;branch&gt;</code></td>
<td>Switch to a different branch.</td>
</tr>
<tr class="odd">
<td><code>git pull</code></td>
<td>Fetch and merge changes from the remote.</td>
</tr>
<tr class="even">
<td><code>git push</code></td>
<td>Push commits to the remote repository.</td>
</tr>
</tbody>
</table>
</section>
<section id="best-practices" class="level3">
<h3 class="anchored" data-anchor-id="best-practices">Best Practices</h3>
<ol type="1">
<li><strong>Write Meaningful Commit Messages</strong>:
<ul>
<li>Describe what changes you made and why.</li>
</ul></li>
<li><strong>Commit Often</strong>:
<ul>
<li>Smaller, focused commits are easier to understand and debug.</li>
</ul></li>
<li><strong>Collaborate Effectively</strong>:
<ul>
<li>Pull changes from the remote repository frequently to avoid conflicts.</li>
</ul></li>
<li><strong>Review Changes</strong>:
<ul>
<li>Use <code>git diff</code> and <code>git status</code> to check your work before committing.</li>
</ul></li>
</ol>
</section>
<section id="use-of-ides" class="level3">
<h3 class="anchored" data-anchor-id="use-of-ides">Use of IDE’s</h3>
<p>While it is important to know all the terminal commands, several IDE’s will do this for you. You just need to know the concept of Stage, Commit, Push, and Pull.</p>
</section>
</section>
<section id="github" class="level2">
<h2 class="anchored" data-anchor-id="github">Github</h2>
<p>Github is an online platform the programmers used to store their code. Users can create repositories (a centralized back-ups) that can be updated and shared to other individuals. Imagine it as the Google Drive of programming.</p>
<section id="getting-started-with-github" class="level3">
<h3 class="anchored" data-anchor-id="getting-started-with-github">Getting Started with GitHub</h3>
</section>
<section id="why-use-github" class="level3">
<h3 class="anchored" data-anchor-id="why-use-github">Why Use GitHub?</h3>
<ol type="1">
<li><strong>Remote Repository Hosting</strong>:
<ul>
<li>GitHub hosts your Git repositories, making them accessible to collaborators around the globe.</li>
</ul></li>
<li><strong>Collaboration Tools</strong>:
<ul>
<li>Includes features like pull requests, code reviews, and issue tracking.</li>
</ul></li>
<li><strong>Community and Discovery</strong>:
<ul>
<li>Public repositories enable sharing and discovering projects, fostering an open-source community.</li>
</ul></li>
</ol>
</section>
<section id="key-features-of-github" class="level3">
<h3 class="anchored" data-anchor-id="key-features-of-github">Key Features of GitHub</h3>
<ol type="1">
<li><strong>Repositories</strong>:
<ul>
<li>Centralized storage for your project files and history.</li>
<li>Can be public (open to everyone) or private (restricted access).</li>
</ul></li>
<li><strong>Pull Requests (PRs)</strong>:
<ul>
<li>A mechanism for proposing changes to a repository.</li>
<li>Facilitates code reviews and discussions before merging changes.</li>
</ul></li>
<li><strong>Issues</strong>:
<ul>
<li>A built-in bug and task tracker.</li>
<li>Enables collaboration on problem-solving and feature requests.</li>
</ul></li>
<li><strong>Actions</strong>:
<ul>
<li>A CI/CD tool to automate workflows like testing and deployment.</li>
</ul></li>
<li><strong>Branches and Forks</strong>:
<ul>
<li><strong>Branches</strong>: Allow isolated development within a repository.</li>
<li><strong>Forks</strong>: Create a copy of a repository to experiment or contribute to the original project.</li>
</ul></li>
<li><strong>GitHub Pages</strong>:
<ul>
<li>Hosts static websites directly from your repositories.</li>
</ul></li>
</ol>
</section>
</section>
<section id="resources" class="level2">
<h2 class="anchored" data-anchor-id="resources">Resources</h2>
<p>If you want a more in depth version of using git and GitHub, take a look at the following resource table:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Website</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://happygitwithr.com/">Happy Git</a></td>
<td>Provide an overview of git and GitHub while using RStudio.</td>
</tr>
<tr class="even">
<td><a href="https://git-scm.com/book/en/v2">Pro Git</a></td>
<td>A highly recommended book for those who want to gain a deep understanding of git.</td>
</tr>
<tr class="odd">
<td><a href="https://ohshitgit.com/">Oh S***, Git!?!</a></td>
<td>Provides troubleshooting techniques when the inevitable mistakes occur.</td>
</tr>
<tr class="even">
<td><a href="https://xosh.org/explain-git-in-simple-words/">Git in Simple Words</a></td>
<td>Provides git basics in simplified words.</td>
</tr>
</tbody>
</table>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Make sure to set the terminal app’s working directory to the repository<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>